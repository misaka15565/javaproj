<!DOCTYPE html>
<html>

<head>
    <title>Quiz Page</title>
</head>

<body>
    <!--后端会传进来一个quiz的arraylist，每个quiz占一行，显示题目和输入框-->
    <h1>Quiz Page</h1>
    <form action="/api/quizsubmit" method="post">
        <div th:each="quiz,status : ${quizList}">
            <div>
                <label th:text="${quiz.Quiz_toString()}"></label>
                <input type="text" th:name="'answer'+${status.index}">
            </div>
        </div>
        <button type="submit">Submit</button>
    </form>
    <script th:utext="${script}"></script>
    <!--添加一个倒计时-->
    <div>
        <label>Time Left:</label>
        <label id="time" th:text="${countdown}"></label>
    </div>
    <script>
        console.log("start")
        console.log("time: " + t)
        //如果时间小于0，就不显示倒计时，并且不执行定时器
        if (t <= 0) {
            document.getElementById("time").innerText = -1;
        } else {
            document.getElementById("time").innerText = t;
            var timer = setInterval(function () {
                t--;
                document.getElementById("time").innerText = t;
                if (t == 0) {
                    clearInterval(timer);
                    console.log("Time Limit submit")
                    document.getElementsByTagName("form")[0].submit();
                }
            }, 1000);
        }
    </script>
</body>



<iframe name="footer" src="/webfooter.html" width="100%" height="200" frameborder="0" scrolling="no"></iframe>

</html>